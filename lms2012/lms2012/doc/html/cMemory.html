<!-- This comment will put IE 6, 7 and 8 in quirks mode -->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>Memory</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="$relpath/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javaScript" src="$relpath/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body onload='searchBox.OnSelectItem(0);'>

<table><tr><td><img class="header" src="LEGO.jpg"></td><td><h1>&nbsp;&nbsp;&nbsp;LEGO Mindstorms EV3</h1></td></tr></table><hr size="1"/>
<!-- Generated by Doxygen 1.7.6.1 -->
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li class="current"><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="annotated.html"><span>Data&#160;Structures</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div id="nav-path" class="navpath">
    <ul>
      <li class="navelem"><a class="el" href="index.html">Firmware Documentation</a>      </li>
      <li class="navelem"><a class="el" href="buildinapps.html">Apps</a>      </li>
      <li class="navelem"><a class="el" href="makingapps.html">Making Apps with the &quot;lmsasm&quot; Tool</a>      </li>
      <li class="navelem"><a class="el" href="lmsassembler.html">lmsasm tool</a>      </li>
      <li class="navelem"><a class="el" href="bytecodes.html">Byte Codes</a>      </li>
    </ul>
  </div>
</div>
<div class="header">
  <div class="headertitle">
<div class="title">Memory </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><hr/>
 MemoryLibraryCodes <br/>
 <br/>
 <b> opFILE (CMD, ....) </b></p>
<ul>
<li>Memory file entry<br/>
</li>
<li>Dispatch status unchanged</li>
</ul>
<dl class="params"><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">(DATA8)</td><td>CMD - <a class="el" href="memoryfilesubcode.html">Specific command parameter</a></td></tr>
  </table>
  </dd>
</dl>
<p><br/>
</p>
<ul>
<li>CMD = OPEN_APPEND <br/>
 Create file or open for append (if name starts with '~','/' or '.' it is not from current folder) <br/>
<ul>
<li><dl class="params"><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">(DATA8)</td><td>NAME - First character in file name (character string)<br/>
</td></tr>
  </table>
  </dd>
</dl>
</li>
<li><dl class="return"><dt><b>Returns:</b></dt><dd>(HANDLER) HANDLE - Handle to file<br/>
</dd></dl>
<br/>
</li>
</ul>
</li>
<li>CMD = OPEN_READ <br/>
 Open file for read (if name starts with '~','/' or '.' it is not from current folder) <br/>
<ul>
<li><dl class="params"><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">(DATA8)</td><td>NAME - First character in file name (character string)<br/>
</td></tr>
  </table>
  </dd>
</dl>
</li>
<li><dl class="return"><dt><b>Returns:</b></dt><dd>(HANDLER) HANDLE - Handle to file<br/>
</dd></dl>
</li>
<li><dl class="return"><dt><b>Returns:</b></dt><dd>(DATA32) SIZE - File size (0 = not found)<br/>
</dd></dl>
<br/>
</li>
</ul>
</li>
<li>CMD = OPEN_WRITE <br/>
 Create file for write (if name starts with '~','/' or '.' it is not from current folder) <br/>
<ul>
<li><dl class="params"><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">(DATA8)</td><td>NAME - First character in file name (character string)<br/>
</td></tr>
  </table>
  </dd>
</dl>
</li>
<li><dl class="return"><dt><b>Returns:</b></dt><dd>(HANDLER) HANDLE - Handle to file<br/>
</dd></dl>
<br/>
</li>
</ul>
</li>
<li>CMD = CLOSE <br/>
 Close file<br/>
<ul>
<li><dl class="params"><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">(HANDLER)</td><td>HANDLE - Handle to file<br/>
</td></tr>
  </table>
  </dd>
</dl>
<br/>
</li>
</ul>
</li>
<li>CMD = REMOVE <br/>
 Delete file (if name starts with '~','/' or '.' it is not from current folder) <br/>
<ul>
<li><dl class="params"><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">(DATA8)</td><td>NAME - First character in file name (character string)<br/>
</td></tr>
  </table>
  </dd>
</dl>
<br/>
</li>
</ul>
</li>
<li>CMD = MOVE <br/>
 Move file SOURCE to DEST (if name starts with '~','/' or '.' it is not from current folder) <br/>
<ul>
<li><dl class="params"><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">(DATA8)</td><td>SOURCE - First character in source file name (character string)<br/>
</td></tr>
  </table>
  </dd>
</dl>
</li>
<li><dl class="params"><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">(DATA8)</td><td>DEST - First character in destination file name (character string)<br/>
</td></tr>
  </table>
  </dd>
</dl>
<br/>
</li>
</ul>
</li>
<li>CMD = WRITE_TEXT <br/>
 Write text to file <br/>
<ul>
<li><dl class="params"><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">(HANDLER)</td><td>HANDLE - Handle to file<br/>
</td></tr>
  </table>
  </dd>
</dl>
</li>
<li><dl class="params"><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">(DATA8)</td><td><a class="el" href="delimiters.html">DEL</a> - Delimiter code<br/>
</td></tr>
  </table>
  </dd>
</dl>
</li>
<li><dl class="params"><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">(DATA8)</td><td>TEXT - First character in text to write (character string)<br/>
</td></tr>
  </table>
  </dd>
</dl>
<br/>
</li>
</ul>
</li>
<li>CMD = READ_TEXT <br/>
 Read text from file <br/>
<ul>
<li><dl class="params"><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">(HANDLER)</td><td>HANDLE - Handle to file<br/>
</td></tr>
  </table>
  </dd>
</dl>
</li>
<li><dl class="params"><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">(DATA8)</td><td><a class="el" href="delimiters.html">DEL</a> - Delimiter code<br/>
</td></tr>
  </table>
  </dd>
</dl>
</li>
<li><dl class="params"><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">(DATA8)</td><td>LENGTH - Maximal string length<br/>
</td></tr>
  </table>
  </dd>
</dl>
</li>
<li><dl class="return"><dt><b>Returns:</b></dt><dd>(DATA8) TEXT - First character in text to read (character string)<br/>
</dd></dl>
<br/>
</li>
</ul>
</li>
<li>CMD = WRITE_VALUE <br/>
 Write floating point value to file <br/>
<ul>
<li><dl class="params"><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">(HANDLER)</td><td>HANDLE - Handle to file<br/>
</td></tr>
  </table>
  </dd>
</dl>
</li>
<li><dl class="params"><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">(DATA8)</td><td><a class="el" href="delimiters.html">DEL</a> - Delimiter code<br/>
</td></tr>
  </table>
  </dd>
</dl>
</li>
<li><dl class="params"><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">(DATAF)</td><td>VALUE - Value to write<br/>
</td></tr>
  </table>
  </dd>
</dl>
</li>
<li><dl class="params"><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">(DATA8)</td><td>FIGURES - Total number of figures inclusive decimal point<br/>
</td></tr>
  </table>
  </dd>
</dl>
</li>
<li><dl class="params"><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">(DATA8)</td><td>DECIMALS - Number of decimals<br/>
</td></tr>
  </table>
  </dd>
</dl>
<br/>
</li>
</ul>
</li>
<li>CMD = READ_VALUE <br/>
 Read floating point value from file <br/>
<ul>
<li><dl class="params"><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">(HANDLER)</td><td>HANDLE - Handle to file<br/>
</td></tr>
  </table>
  </dd>
</dl>
</li>
<li><dl class="params"><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">(DATA8)</td><td><a class="el" href="delimiters.html">DEL</a> - Delimiter code<br/>
</td></tr>
  </table>
  </dd>
</dl>
</li>
<li><dl class="return"><dt><b>Returns:</b></dt><dd>(DATAF) VALUE - Value to write<br/>
</dd></dl>
<br/>
</li>
</ul>
</li>
<li>CMD = WRITE_BYTES <br/>
 Write a number of bytes to file <br/>
<ul>
<li><dl class="params"><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">(HANDLER)</td><td>HANDLE - Handle to file<br/>
</td></tr>
  </table>
  </dd>
</dl>
</li>
<li><dl class="params"><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">(DATA16)</td><td>BYTES - Number of bytes to write<br/>
</td></tr>
  </table>
  </dd>
</dl>
</li>
<li><dl class="params"><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">(DATA8)</td><td>SOURCE - First byte in byte stream to write<br/>
</td></tr>
  </table>
  </dd>
</dl>
<br/>
</li>
</ul>
</li>
<li>CMD = READ_BYTES <br/>
 Read a number of bytes from file <br/>
<ul>
<li><dl class="params"><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">(HANDLER)</td><td>HANDLE - Handle to file<br/>
</td></tr>
  </table>
  </dd>
</dl>
</li>
<li><dl class="params"><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">(DATA16)</td><td>BYTES - Number of bytes to write<br/>
</td></tr>
  </table>
  </dd>
</dl>
</li>
<li><dl class="return"><dt><b>Returns:</b></dt><dd>(DATA8) DESTINATION - First byte in byte stream to write<br/>
</dd></dl>
<br/>
</li>
</ul>
</li>
<li>CMD = OPEN_LOG <br/>
 Create file for data logging (if name starts with '~','/' or '.' it is not from current folder) (see <a class="el" href="tstlogapp.html#cinputsample">Example</a>)<br/>
<ul>
<li><dl class="params"><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">(DATA8)</td><td>NAME - First character in file name (character string)<br/>
</td></tr>
  </table>
  </dd>
</dl>
</li>
<li><dl class="params"><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">(DATA32)</td><td>syncedTime -</td></tr>
  </table>
  </dd>
</dl>
</li>
<li><dl class="params"><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">(DATA32)</td><td>syncedTick -</td></tr>
  </table>
  </dd>
</dl>
</li>
<li><dl class="params"><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">(DATA32)</td><td>nowTick -</td></tr>
  </table>
  </dd>
</dl>
</li>
<li><dl class="params"><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">(DATA32)</td><td>sample_interval_in_ms -</td></tr>
  </table>
  </dd>
</dl>
</li>
<li><dl class="params"><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">(DATA32)</td><td>duration_in_ms -</td></tr>
  </table>
  </dd>
</dl>
</li>
<li><dl class="params"><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">(DATA8)</td><td>SDATA - First character in sensor type data (character string)<br/>
</td></tr>
  </table>
  </dd>
</dl>
</li>
<li><dl class="return"><dt><b>Returns:</b></dt><dd>(HANDLER) HANDLE - Handle to file<br/>
</dd></dl>
<br/>
</li>
</ul>
</li>
<li>CMD = WRITE_LOG <br/>
 Write time slot samples to file (see <a class="el" href="tstlogapp.html#cinputsample">Example</a>)<br/>
<ul>
<li><dl class="params"><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">(HANDLER)</td><td>HANDLE - Handle to file<br/>
</td></tr>
  </table>
  </dd>
</dl>
</li>
<li><dl class="params"><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">(DATA32)</td><td>TIME - Relative time in mS<br/>
</td></tr>
  </table>
  </dd>
</dl>
</li>
<li><dl class="params"><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">(DATA8)</td><td>ITEMS - Total number of values in this time slot<br/>
 . </td></tr>
    <tr><td class="paramname">(DATAF)</td><td>VALUES - DATAF array (handle) containing values<br/>
</td></tr>
  </table>
  </dd>
</dl>
<br/>
</li>
</ul>
</li>
<li>CMD = CLOSE_LOG <br/>
 Close data log file (see <a class="el" href="tstlogapp.html#cinputsample">Example</a>)<br/>
<ul>
<li><dl class="params"><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">(HANDLER)</td><td>HANDLE - Handle to file<br/>
</td></tr>
  </table>
  </dd>
</dl>
</li>
<li><dl class="params"><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">(DATA8)</td><td>NAME - First character in file name (character string)<br/>
</td></tr>
  </table>
  </dd>
</dl>
<br/>
</li>
</ul>
</li>
<li>CMD = GET_LOG_NAME <br/>
 Get the current open log filename<br/>
<ul>
<li><dl class="params"><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">(DATA8)</td><td>LENGTH - Max string length (don't care if NAME is a HND<br/>
</td></tr>
  </table>
  </dd>
</dl>
</li>
<li><dl class="params"><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">(DATA8)</td><td>NAME - First character in file name (character string or HND)<br/>
</td></tr>
  </table>
  </dd>
</dl>
<br/>
</li>
</ul>
</li>
<li>CMD = GET_HANDLE <br/>
 Get handle from filename (if name starts with '~','/' or '.' it is not from current folder) <br/>
<ul>
<li><dl class="params"><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">(DATA8)</td><td>NAME - First character in file name (character string)<br/>
</td></tr>
  </table>
  </dd>
</dl>
</li>
<li><dl class="return"><dt><b>Returns:</b></dt><dd>(HANDLER) HANDLE - Handle to file<br/>
</dd></dl>
</li>
<li><dl class="return"><dt><b>Returns:</b></dt><dd>(DATA8) WRITE - Open for write / append (0 = no, 1 = yes)<br/>
</dd></dl>
<br/>
</li>
</ul>
</li>
<li>CMD = MAKE_FOLDER <br/>
 Make folder if not present<br/>
<ul>
<li><dl class="params"><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">(DATA8)</td><td>NAME - First character in folder name (character string)<br/>
</td></tr>
  </table>
  </dd>
</dl>
</li>
<li><dl class="return"><dt><b>Returns:</b></dt><dd>(DATA8) SUCCESS - Success (0 = no, 1 = yes)<br/>
</dd></dl>
<br/>
</li>
</ul>
</li>
<li>CMD = LOAD_IMAGE<ul>
<li><dl class="params"><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">(DATA16)</td><td>PRGID - Program id (see <a class="el" href="programid.html#prgid">prgid</a>)<br/>
</td></tr>
  </table>
  </dd>
</dl>
</li>
<li><dl class="params"><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">(DATA8)</td><td>NAME - First character in name (character string)<br/>
</td></tr>
  </table>
  </dd>
</dl>
</li>
<li><dl class="return"><dt><b>Returns:</b></dt><dd>(DATA32) SIZE - Size<br/>
</dd></dl>
</li>
<li><dl class="return"><dt><b>Returns:</b></dt><dd>(DATA32) *IP - Address of image<br/>
</dd></dl>
<br/>
</li>
</ul>
</li>
<li>CMD = GET_POOL<ul>
<li><dl class="params"><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">(DATA32)</td><td>SIZE - Size of pool<br/>
</td></tr>
  </table>
  </dd>
</dl>
</li>
<li><dl class="return"><dt><b>Returns:</b></dt><dd>(HANDLER) HANDLE - Handle to pool<br/>
</dd></dl>
</li>
<li><dl class="return"><dt><b>Returns:</b></dt><dd>(DATA32) *IP - Address of image<br/>
</dd></dl>
<br/>
</li>
</ul>
</li>
<li>CMD = GET_FOLDERS<ul>
<li><dl class="params"><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">(DATA8)</td><td>NAME - First character in folder name (ex "../prjs/")<br/>
</td></tr>
  </table>
  </dd>
</dl>
</li>
<li><dl class="return"><dt><b>Returns:</b></dt><dd>(DATA8) ITEMS - No of sub folders<br/>
</dd></dl>
<br/>
</li>
</ul>
</li>
<li>CMD = GET_SUBFOLDER_NAME<ul>
<li><dl class="params"><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">(DATA8)</td><td>NAME - First character in folder name (ex "../prjs/")<br/>
</td></tr>
  </table>
  </dd>
</dl>
</li>
<li><dl class="params"><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">(DATA8)</td><td>ITEM - Sub folder index [1..ITEMS]<br/>
</td></tr>
  </table>
  </dd>
</dl>
</li>
<li><dl class="params"><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">(DATA8)</td><td>LENGTH - Maximal string length<br/>
</td></tr>
  </table>
  </dd>
</dl>
</li>
<li><dl class="return"><dt><b>Returns:</b></dt><dd>(DATA8) STRING - First character in character string<br/>
</dd></dl>
<br/>
</li>
</ul>
</li>
<li>CMD = DEL_SUBFOLDER<ul>
<li><dl class="params"><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">(DATA8)</td><td>NAME - First character in folder name (ex "../prjs/")<br/>
</td></tr>
  </table>
  </dd>
</dl>
</li>
<li><dl class="params"><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">(DATA8)</td><td>ITEM - Sub folder index [1..ITEMS]<br/>
</td></tr>
  </table>
  </dd>
</dl>
<br/>
</li>
</ul>
</li>
<li>CMD = SET_LOG_SYNC_TIME<ul>
<li><dl class="params"><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">(DATA32)</td><td>TIME - Sync time used in data log files<br/>
</td></tr>
  </table>
  </dd>
</dl>
</li>
<li><dl class="params"><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">(DATA32)</td><td>TICK - Sync tick used in data log files<br/>
</td></tr>
  </table>
  </dd>
</dl>
<br/>
</li>
</ul>
</li>
<li>CMD = GET_LOG_SYNC_TIME<ul>
<li><dl class="return"><dt><b>Returns:</b></dt><dd>(DATA32) TIME - Sync time used in data log files<br/>
</dd></dl>
</li>
<li><dl class="return"><dt><b>Returns:</b></dt><dd>(DATA32) TICK - Sync tick used in data log files<br/>
</dd></dl>
<br/>
</li>
</ul>
</li>
<li>CMD = GET_IMAGE<ul>
<li><dl class="params"><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">(DATA8)</td><td>NAME - First character in folder name (ex "../prjs/")<br/>
</td></tr>
  </table>
  </dd>
</dl>
</li>
<li><dl class="params"><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">(DATA16)</td><td>PRGID - Program id (see <a class="el" href="programid.html#prgid">prgid</a>)<br/>
</td></tr>
  </table>
  </dd>
</dl>
</li>
<li><dl class="params"><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">(DATA8)</td><td>ITEM - Sub folder index [1..ITEMS]<br/>
</td></tr>
  </table>
  </dd>
</dl>
</li>
<li><dl class="return"><dt><b>Returns:</b></dt><dd>(DATA32) *IP - Address of image<br/>
</dd></dl>
<br/>
</li>
</ul>
</li>
<li>CMD = GET_ITEM<ul>
<li><dl class="params"><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">(DATA8)</td><td>NAME - First character in folder name (ex "../prjs/")<br/>
</td></tr>
  </table>
  </dd>
</dl>
</li>
<li><dl class="params"><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">(DATA8)</td><td>STRING - First character in item name string<br/>
</td></tr>
  </table>
  </dd>
</dl>
</li>
<li><dl class="return"><dt><b>Returns:</b></dt><dd>(DATA8) ITEM - Sub folder index [1..ITEMS]<br/>
</dd></dl>
<br/>
</li>
</ul>
</li>
<li>CMD = GET_CACHE_FILES<ul>
<li><dl class="return"><dt><b>Returns:</b></dt><dd>(DATA8) ITEMS - No of files in cache<br/>
</dd></dl>
<br/>
</li>
</ul>
</li>
<li>CMD = GET_CACHE_FILE<ul>
<li><dl class="params"><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">(DATA8)</td><td>ITEM - Cache index [1..ITEMS]<br/>
</td></tr>
  </table>
  </dd>
</dl>
</li>
<li><dl class="params"><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">(DATA8)</td><td>LENGTH - Maximal string length<br/>
</td></tr>
  </table>
  </dd>
</dl>
</li>
<li><dl class="return"><dt><b>Returns:</b></dt><dd>(DATA8) STRING - First character in character string<br/>
</dd></dl>
<br/>
</li>
</ul>
</li>
<li>CMD = PUT_CACHE_FILE<ul>
<li><dl class="params"><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">(DATA8)</td><td>STRING - First character in character string<br/>
</td></tr>
  </table>
  </dd>
</dl>
<br/>
</li>
</ul>
</li>
<li>CMD = DEL_CACHE_FILE<ul>
<li><dl class="params"><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">(DATA8)</td><td>ITEM - Cache index [1..ITEMS]<br/>
</td></tr>
  </table>
  </dd>
</dl>
</li>
<li><dl class="params"><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">(DATA8)</td><td>LENGTH - Maximal string length<br/>
</td></tr>
  </table>
  </dd>
</dl>
</li>
<li><dl class="return"><dt><b>Returns:</b></dt><dd>(DATA8) STRING - First character in character string<br/>
</dd></dl>
<br/>
</li>
</ul>
</li>
</ul>
<hr/>
 <b> opARRAY (CMD, ....) </b></p>
<ul>
<li>Array entry<br/>
</li>
<li>Dispatch status can change to BUSYBREAK or FAILBREAK</li>
</ul>
<dl class="params"><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">(DATA8)</td><td>CMD - <a class="el" href="memoryarraysubcode.html">Specific command parameter</a></td></tr>
  </table>
  </dd>
</dl>
<p><br/>
</p>
<ul>
<li>CMD = CREATE8<ul>
<li><dl class="params"><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">(DATA32)</td><td>ELEMENTS - Number of elements<br/>
</td></tr>
  </table>
  </dd>
</dl>
</li>
<li><dl class="return"><dt><b>Returns:</b></dt><dd>(HANDLER) HANDLE - Array handle<br/>
</dd></dl>
<br/>
</li>
</ul>
</li>
<li>CMD = CREATE16<ul>
<li><dl class="params"><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">(DATA32)</td><td>ELEMENTS - Number of elements<br/>
</td></tr>
  </table>
  </dd>
</dl>
</li>
<li><dl class="return"><dt><b>Returns:</b></dt><dd>(HANDLER) HANDLE - Array handle<br/>
</dd></dl>
<br/>
</li>
</ul>
</li>
<li>CMD = CREATE32<ul>
<li><dl class="params"><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">(DATA32)</td><td>ELEMENTS - Number of elements<br/>
</td></tr>
  </table>
  </dd>
</dl>
</li>
<li><dl class="return"><dt><b>Returns:</b></dt><dd>(HANDLER) HANDLE - Array handle<br/>
</dd></dl>
<br/>
</li>
</ul>
</li>
<li>CMD = CREATEF<ul>
<li><dl class="params"><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">(DATA32)</td><td>ELEMENTS - Number of elements<br/>
</td></tr>
  </table>
  </dd>
</dl>
</li>
<li><dl class="return"><dt><b>Returns:</b></dt><dd>(HANDLER) HANDLE - Array handle<br/>
</dd></dl>
<br/>
</li>
</ul>
</li>
<li>CMD = SIZE<ul>
<li><dl class="params"><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">(HANDLER)</td><td>HANDLE - Array handle<br/>
</td></tr>
  </table>
  </dd>
</dl>
</li>
<li><dl class="return"><dt><b>Returns:</b></dt><dd>(DATA32) ELEMENTS - Total number of elements in array<br/>
</dd></dl>
<br/>
</li>
</ul>
</li>
<li>CMD = RESIZE<ul>
<li><dl class="params"><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">(HANDLER)</td><td>HANDLE - Array handle<br/>
</td></tr>
  </table>
  </dd>
</dl>
</li>
<li><dl class="params"><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">(DATA32)</td><td>ELEMENTS - Total number of elements<br/>
</td></tr>
  </table>
  </dd>
</dl>
<br/>
</li>
</ul>
</li>
<li>CMD = DELETE<ul>
<li><dl class="params"><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">(HANDLER)</td><td>HANDLE - Array handle<br/>
</td></tr>
  </table>
  </dd>
</dl>
<br/>
</li>
</ul>
</li>
<li>CMD = FILL<ul>
<li><dl class="params"><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">(HANDLER)</td><td>HANDLE - Array handle<br/>
</td></tr>
  </table>
  </dd>
</dl>
</li>
<li><dl class="params"><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">(type)</td><td>VALUE - Value to write - type depends on type of array<br/>
</td></tr>
  </table>
  </dd>
</dl>
<br/>
</li>
</ul>
</li>
<li>CMD = COPY<ul>
<li><dl class="params"><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">(HANDLER)</td><td>HSOURCE - Source array handle<br/>
</td></tr>
  </table>
  </dd>
</dl>
</li>
<li><dl class="params"><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">(HANDLER)</td><td>HDEST - Destination array handle<br/>
</td></tr>
  </table>
  </dd>
</dl>
<br/>
</li>
</ul>
</li>
<li>CMD = INIT8<ul>
<li><dl class="params"><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">(HANDLER)</td><td>HANDLE - Array handle<br/>
</td></tr>
  </table>
  </dd>
</dl>
</li>
<li><dl class="params"><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">(DATA32)</td><td>INDEX - Index to element to write</td></tr>
  </table>
  </dd>
</dl>
</li>
<li><dl class="params"><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">(DATA32)</td><td>ELEMENTS - Number of elements to write<br/>
</td></tr>
  </table>
  </dd>
</dl>
Below a number of VALUES equal to "ELEMENTS"</li>
<li><dl class="params"><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">(DATA8)</td><td>VALUE - First value to write - type must be equal to the array type<br/>
</td></tr>
  </table>
  </dd>
</dl>
<br/>
</li>
</ul>
</li>
<li>CMD = INIT16<ul>
<li><dl class="params"><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">(HANDLER)</td><td>HANDLE - Array handle<br/>
</td></tr>
  </table>
  </dd>
</dl>
</li>
<li><dl class="params"><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">(DATA32)</td><td>INDEX - Index to element to write</td></tr>
  </table>
  </dd>
</dl>
</li>
<li><dl class="params"><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">(DATA32)</td><td>ELEMENTS - Number of elements to write<br/>
</td></tr>
  </table>
  </dd>
</dl>
Below a number of VALUES equal to "ELEMENTS"</li>
<li><dl class="params"><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">(DATA16)</td><td>VALUE - First value to write - type must be equal to the array type<br/>
</td></tr>
  </table>
  </dd>
</dl>
<br/>
</li>
</ul>
</li>
<li>CMD = INIT32<ul>
<li><dl class="params"><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">(HANDLER)</td><td>HANDLE - Array handle<br/>
</td></tr>
  </table>
  </dd>
</dl>
</li>
<li><dl class="params"><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">(DATA32)</td><td>INDEX - Index to element to write</td></tr>
  </table>
  </dd>
</dl>
</li>
<li><dl class="params"><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">(DATA32)</td><td>ELEMENTS - Number of elements to write<br/>
</td></tr>
  </table>
  </dd>
</dl>
Below a number of VALUES equal to "ELEMENTS"</li>
<li><dl class="params"><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">(DATA32)</td><td>VALUE - First value to write - type must be equal to the array type<br/>
</td></tr>
  </table>
  </dd>
</dl>
<br/>
</li>
</ul>
</li>
<li>CMD = INITF<ul>
<li><dl class="params"><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">(HANDLER)</td><td>HANDLE - Array handle<br/>
</td></tr>
  </table>
  </dd>
</dl>
</li>
<li><dl class="params"><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">(DATA32)</td><td>INDEX - Index to element to write</td></tr>
  </table>
  </dd>
</dl>
</li>
<li><dl class="params"><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">(DATA32)</td><td>ELEMENTS - Number of elements to write<br/>
</td></tr>
  </table>
  </dd>
</dl>
Below a number of VALUES equal to "ELEMENTS"</li>
<li><dl class="params"><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">(DATAF)</td><td>VALUE - First value to write - type must be equal to the array type<br/>
</td></tr>
  </table>
  </dd>
</dl>
<br/>
</li>
</ul>
</li>
<li>CMD = READ_CONTENT<ul>
<li><dl class="params"><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">(DATA16)</td><td>PRGID - Program slot number (must be running) (see <a class="el" href="programid.html#prgid">prgid</a>)<br/>
</td></tr>
  </table>
  </dd>
</dl>
</li>
<li><dl class="params"><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">(HANDLER)</td><td>HANDLE - Array handle<br/>
</td></tr>
  </table>
  </dd>
</dl>
</li>
<li><dl class="params"><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">(DATA32)</td><td>INDEX - Index to first byte to read<br/>
</td></tr>
  </table>
  </dd>
</dl>
</li>
<li><dl class="params"><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">(DATA32)</td><td>BYTES - Number of bytes to read<br/>
</td></tr>
  </table>
  </dd>
</dl>
</li>
<li><dl class="return"><dt><b>Returns:</b></dt><dd>(DATA8) ARRAY - First byte of array to receive data<br/>
</dd></dl>
<br/>
</li>
</ul>
</li>
<li>CMD = WRITE_CONTENT<ul>
<li><dl class="params"><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">(DATA16)</td><td>PRGID - Program slot number (must be running) (see <a class="el" href="programid.html#prgid">prgid</a>)<br/>
</td></tr>
  </table>
  </dd>
</dl>
</li>
<li><dl class="params"><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">(HANDLER)</td><td>HANDLE - Array handle<br/>
</td></tr>
  </table>
  </dd>
</dl>
</li>
<li><dl class="params"><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">(DATA32)</td><td>INDEX - Index to first byte to write<br/>
</td></tr>
  </table>
  </dd>
</dl>
</li>
<li><dl class="params"><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">(DATA32)</td><td>BYTES - Number of bytes to write<br/>
</td></tr>
  </table>
  </dd>
</dl>
</li>
<li><dl class="params"><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">(DATA8)</td><td>ARRAY - First byte of array to deliver data<br/>
</td></tr>
  </table>
  </dd>
</dl>
<br/>
</li>
</ul>
</li>
<li>CMD = READ_SIZE<ul>
<li><dl class="params"><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">(DATA16)</td><td>PRGID - Program slot number (must be running) (see <a class="el" href="programid.html#prgid">prgid</a>)<br/>
</td></tr>
  </table>
  </dd>
</dl>
</li>
<li><dl class="params"><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">(HANDLER)</td><td>HANDLE - Array handle<br/>
</td></tr>
  </table>
  </dd>
</dl>
</li>
<li><dl class="return"><dt><b>Returns:</b></dt><dd>(DATA32) BYTES - Number of bytes in array<br/>
</dd></dl>
<br/>
</li>
</ul>
</li>
</ul>
<hr/>
 <b> opARRAY_WRITE (HANDLE, INDEX, VALUE) </b></p>
<ul>
<li>Array element write<br/>
</li>
<li>Dispatch status can change to FAILBREAK</li>
</ul>
<dl class="params"><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">(HANDLER)</td><td>HANDLE - Array handle </td></tr>
    <tr><td class="paramname">(DATA32)</td><td>INDEX - Index to element to write </td></tr>
    <tr><td class="paramname">(type)</td><td>VALUE - Value to write - type depends on type of array<br/>
</td></tr>
  </table>
  </dd>
</dl>
<p><br/>
</p>
<hr/>
 <b> opARRAY_READ (HANDLE, INDEX, VALUE) </b></p>
<ul>
<li>Array element write<br/>
</li>
<li>Dispatch status can change to FAILBREAK</li>
</ul>
<dl class="params"><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">(HANDLER)</td><td>HANDLE - Array handle </td></tr>
    <tr><td class="paramname">(DATA32)</td><td>INDEX - Index of element to read </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>(type) VALUE - Value to read - type depends on type of array</dd></dl>
<p><br/>
</p>
<hr/>
 <b> opARRAY_APPEND (HANDLE, VALUE) </b></p>
<ul>
<li>Array element append<br/>
</li>
<li>Dispatch status can change to FAILBREAK</li>
</ul>
<dl class="params"><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">(HANDLER)</td><td>HANDLE - Array handle </td></tr>
    <tr><td class="paramname">(type)</td><td>VALUE - Value (new element) to append - type depends on type of array<br/>
</td></tr>
  </table>
  </dd>
</dl>
<p><br/>
</p>
<hr/>
 <b> opMEMORY_USAGE (TOTAL, FREE) </b></p>
<ul>
<li>Get memory usage<br/>
</li>
<li>Dispatch status unchanged</li>
</ul>
<dl class="return"><dt><b>Returns:</b></dt><dd>(DATA32) TOTAL - Total memory [KB] </dd>
<dd>
(DATA32) FREE - Free memory [KB]</dd></dl>
<p><br/>
</p>
<hr/>
 <b> opFILENAME (CMD, ....) </b></p>
<ul>
<li>Memory filename entry<br/>
</li>
<li>Dispatch status unchanged</li>
</ul>
<dl class="params"><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">(DATA8)</td><td>CMD - <a class="el" href="memoryfilenamesubcode.html">Specific command parameter</a></td></tr>
  </table>
  </dd>
</dl>
<p><br/>
</p>
<ul>
<li>CMD = EXIST <br/>
 Test if file exists (if name starts with '~','/' or '.' it is not from current folder) <br/>
<ul>
<li><dl class="params"><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">(DATA8)</td><td>NAME - First character in file name (character string)<br/>
</td></tr>
  </table>
  </dd>
</dl>
</li>
<li><dl class="return"><dt><b>Returns:</b></dt><dd>(DATA8) FLAG - Exist (0 = no, 1 = yes)<br/>
</dd></dl>
<br/>
</li>
</ul>
</li>
<li>CMD = TOTALSIZE <br/>
 Calculate folder/file size (if name starts with '~','/' or '.' it is not from current folder) <br/>
<ul>
<li><dl class="params"><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">(DATA8)</td><td>NAME - First character in file name (character string)<br/>
</td></tr>
  </table>
  </dd>
</dl>
</li>
<li><dl class="return"><dt><b>Returns:</b></dt><dd>(DATA32) FILES - Total number of files<br/>
</dd></dl>
</li>
<li><dl class="return"><dt><b>Returns:</b></dt><dd>(DATA32) SIZE - Total folder size [KB]<br/>
</dd></dl>
<br/>
</li>
</ul>
</li>
<li>CMD = SPLIT <br/>
 Split filename into Folder, name, extension <br/>
<ul>
<li><dl class="params"><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">(DATA8)</td><td>FILENAME - First character in file name (character string) "../folder/subfolder/name.ext"<br/>
</td></tr>
  </table>
  </dd>
</dl>
</li>
<li><dl class="params"><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">(DATA8)</td><td>LENGTH - Maximal length for each of the below parameters<br/>
</td></tr>
  </table>
  </dd>
</dl>
</li>
<li><dl class="return"><dt><b>Returns:</b></dt><dd>(DATA8) FOLDER - First character in folder name (character string) "../folder/subfolder"<br/>
</dd></dl>
</li>
<li><dl class="return"><dt><b>Returns:</b></dt><dd>(DATA8) NAME - First character in name (character string) "name"<br/>
</dd></dl>
</li>
<li><dl class="return"><dt><b>Returns:</b></dt><dd>(DATA8) EXT - First character in extension (character string) ".ext"<br/>
</dd></dl>
<br/>
</li>
</ul>
</li>
<li>CMD = MERGE <br/>
 Merge Folder, name, extension into filename<br/>
<ul>
<li><dl class="params"><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">(DATA8)</td><td>FOLDER - First character in folder name (character string) "../folder/subfolder"<br/>
</td></tr>
  </table>
  </dd>
</dl>
</li>
<li><dl class="params"><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">(DATA8)</td><td>NAME - First character in name (character string) "name"<br/>
</td></tr>
  </table>
  </dd>
</dl>
</li>
<li><dl class="params"><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">(DATA8)</td><td>EXT - First character in extension (character string) ".ext"<br/>
</td></tr>
  </table>
  </dd>
</dl>
</li>
<li><dl class="params"><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">(DATA8)</td><td>LENGTH - Maximal length for the below parameter<br/>
</td></tr>
  </table>
  </dd>
</dl>
</li>
<li><dl class="return"><dt><b>Returns:</b></dt><dd>(DATA8) FILENAME - First character in file name (character string) "../folder/subfolder/name.ext"<br/>
</dd></dl>
<br/>
</li>
</ul>
</li>
<li>CMD = CHECK <br/>
 Check filename<br/>
<ul>
<li><dl class="params"><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">(DATA8)</td><td>FILENAME - First character in file name (character string) "../folder/subfolder/name.ext"<br/>
</td></tr>
  </table>
  </dd>
</dl>
</li>
<li><dl class="return"><dt><b>Returns:</b></dt><dd>(DATA8) OK - Filename ok (0 = FAIL, 1 = OK)<br/>
</dd></dl>
<br/>
</li>
</ul>
</li>
<li>CMD = PACK <br/>
 Pack file or folder into "raf" container<br/>
<ul>
<li><dl class="params"><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">(DATA8)</td><td>FILENAME - First character in file name (character string) "../folder/subfolder/name.ext"<br/>
</td></tr>
  </table>
  </dd>
</dl>
<br/>
</li>
</ul>
</li>
<li>CMD = UNPACK <br/>
 Unpack "raf" container<br/>
<ul>
<li><dl class="params"><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">(DATA8)</td><td>FILENAME - First character in file name (character string) "../folder/subfolder/name"<br/>
</td></tr>
  </table>
  </dd>
</dl>
<br/>
</li>
</ul>
</li>
<li>CMD = GET_FOLDERNAME <br/>
 Get current folder name<br/>
<ul>
<li><dl class="params"><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">(DATA8)</td><td>LENGTH - Maximal length for the below parameter<br/>
</td></tr>
  </table>
  </dd>
</dl>
</li>
<li><dl class="return"><dt><b>Returns:</b></dt><dd>(DATA8) FOLDERNAME - First character in folder name (character string) "../folder/subfolder"<br/>
</dd></dl>
<br/>
 </li>
</ul>
</li>
</ul>
</div></div><!-- contents -->
<hr size="1"/><address style="text-align: center;">
LEGO&reg Robotics Firmware Documentation<br/>Confidential Information &copy 2013 The LEGO Group</address>
</body>
</html>
